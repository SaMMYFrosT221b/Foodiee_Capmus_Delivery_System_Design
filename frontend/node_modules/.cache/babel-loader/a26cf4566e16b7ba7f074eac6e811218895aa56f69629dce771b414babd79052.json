{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import axios from \"axios\";\n\n// function LoginForm() {\n//   const differentHostData = {\n//     UserHost: \"http://localhost:5000\",\n//     ShopkeeperHost: \"http://localhost:6000\",\n//     DeliveryBoyHost: \"http://localhost:7000\",\n//   };\n\n//   const routesMappingOfUSerTypes = {\n//     \"User\":\"user\",\n//     \"Shopkeeper\":\"shopkeeper\",\n//     \"Delivery Boy\":\"deliveryboy\"\n//   }\n\n//   const [userType, setUserType] = useState(\"User\");\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   const handleSubmit = async (event) => {\n//     event.preventDefault();\n//     const formData = {\n//       UserType: userType,\n//       Email: email,\n//       Password: password,\n//     };\n//     console.log(\"Form Data:\", formData);\n\n//     try {\n//       const response = await fetch(`http://localhost:5000/${routesMappingOfUSerTypes[formData.UserType]}/login`, {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify(formData),\n//       });\n\n//       // const responseData = await axios.post(\"http://localhost:5000/rat\", formData);\n//       const responseData = await response.json();\n//       console.log(\"Response from server:\", responseData);\n//       console.log(\"Ratnakar\",typeof(responseData.status));\n//       if (responseData.status == 1) {\n//         localStorage.setItem('Token', responseData.authToken);\n//         console.log(\"This is the token: \",localStorage.getItem(\"Token\"));\n//         navigate(\"/books\");\n//       } else if (responseData.status == -1) {\n//         navigate(\"/login\");\n//         console.log(responseData.content);\n//       } else {\n//         console.log(responseData.content);\n//       }\n//     } catch (error) {\n//       console.error(\"Error sending data to server:\", error);\n//     }\n//   };\n\n//   console.log(\"This is the Token: \",localStorage.getItem(\"Token\"));\n\n//   return (\n//     <form onSubmit={handleSubmit}>\n//       <label>\n//         User Type:\n//         <select value={userType} onChange={(e) => setUserType(e.target.value)}>\n//           <option value=\"User\">User</option>\n//           <option value=\"Shopkeeper\">Shopkeeper</option>\n//           <option value=\"Delivery Boy\">Delivery Boy</option>\n//         </select>\n//       </label>\n//       <br />\n//       <label>\n//         Email:\n//         <input\n//           type=\"text\"\n//           value={email}\n//           onChange={(e) => setEmail(e.target.value)}\n//         />\n//       </label>\n//       <br />\n//       <label>\n//         Password:\n//         <input\n//           type=\"text\"\n//           value={password}\n//           onChange={(e) => setPassword(e.target.value)}\n//         />\n//       </label>\n//       <br />\n//       <button type=\"submit\">Submit</button>\n//     </form>\n//   );\n// }\n\n// export default LoginForm;","map":{"version":3,"names":[],"sources":["/home/sammy/Documents/React Projects/Foodiee/testing/frontend/src/pages/LoginForm.js"],"sourcesContent":["// import React, { useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import axios from \"axios\";\n\n\n\n// function LoginForm() {\n//   const differentHostData = {\n//     UserHost: \"http://localhost:5000\",\n//     ShopkeeperHost: \"http://localhost:6000\",\n//     DeliveryBoyHost: \"http://localhost:7000\",\n//   };\n\n//   const routesMappingOfUSerTypes = {\n//     \"User\":\"user\",\n//     \"Shopkeeper\":\"shopkeeper\",\n//     \"Delivery Boy\":\"deliveryboy\"\n//   }\n\n//   const [userType, setUserType] = useState(\"User\");\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   const handleSubmit = async (event) => {\n//     event.preventDefault();\n//     const formData = {\n//       UserType: userType,\n//       Email: email,\n//       Password: password,\n//     };\n//     console.log(\"Form Data:\", formData);\n\n//     try {\n//       const response = await fetch(`http://localhost:5000/${routesMappingOfUSerTypes[formData.UserType]}/login`, {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify(formData),\n//       });\n\n//       // const responseData = await axios.post(\"http://localhost:5000/rat\", formData);\n//       const responseData = await response.json();\n//       console.log(\"Response from server:\", responseData);\n//       console.log(\"Ratnakar\",typeof(responseData.status));\n//       if (responseData.status == 1) {\n//         localStorage.setItem('Token', responseData.authToken);\n//         console.log(\"This is the token: \",localStorage.getItem(\"Token\"));\n//         navigate(\"/books\");\n//       } else if (responseData.status == -1) {\n//         navigate(\"/login\");\n//         console.log(responseData.content);\n//       } else {\n//         console.log(responseData.content);\n//       }\n//     } catch (error) {\n//       console.error(\"Error sending data to server:\", error);\n//     }\n//   };\n\n//   console.log(\"This is the Token: \",localStorage.getItem(\"Token\"));\n\n//   return (\n//     <form onSubmit={handleSubmit}>\n//       <label>\n//         User Type:\n//         <select value={userType} onChange={(e) => setUserType(e.target.value)}>\n//           <option value=\"User\">User</option>\n//           <option value=\"Shopkeeper\">Shopkeeper</option>\n//           <option value=\"Delivery Boy\">Delivery Boy</option>\n//         </select>\n//       </label>\n//       <br />\n//       <label>\n//         Email:\n//         <input\n//           type=\"text\"\n//           value={email}\n//           onChange={(e) => setEmail(e.target.value)}\n//         />\n//       </label>\n//       <br />\n//       <label>\n//         Password:\n//         <input\n//           type=\"text\"\n//           value={password}\n//           onChange={(e) => setPassword(e.target.value)}\n//         />\n//       </label>\n//       <br />\n//       <button type=\"submit\">Submit</button>\n//     </form>\n//   );\n// }\n\n// export default LoginForm;\n"],"mappings":"AAAA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}